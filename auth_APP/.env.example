# Server
PORT=4000
NODE_ENV=development

# Database - Admin credentials (for database creation in migration 000)
# These credentials must match the PostgreSQL superuser defined in docker-compose.yml
PG_ADMIN_USER=admin username for database creation
PG_ADMIN_PASSWORD=your_admin_password_here
PG_ADMIN_DB=postgres BBDD Inicial

# Database - Application credentials (for regular migrations and runtime)
# The migration 000 will create this user and database
PG_HOST=localhost
PG_PORT=5432
PG_USER=auth
PG_PASSWORD=your_app_password_here
PG_DATABASE=auth_db

USE_POSTGRES=true

# JWT Secrets (CAMBIAR EN PRODUCCIÃ“N - debe tener al menos 32 caracteres)
JWT_ACCESS_SECRET=your-super-secret-access-key-change-in-production-min32chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min32chars

# Default Admin User (for InMemory repository in tests/dev)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@auth.com
ADMIN_PASSWORD=xxxx

# LDAP Authentication (optional)
# Set to 'true' to enable LDAP authentication (requires ldapjs: npm install ldapjs @types/ldapjs)
ENABLE_LDAP=false

# LDAP Servers Configuration (JSON array)
# Each server must have: url, baseDN, userSearchBase, userSearchFilter
# Optional fields: bindDN, bindPassword, timeout
# Example (single server):
# LDAP_SERVERS=[{"url":"ldap://ldap.example.com:389","baseDN":"dc=example,dc=com","userSearchBase":"ou=users,dc=example,dc=com","userSearchFilter":"(uid={{username}})","bindDN":"cn=admin,dc=example,dc=com","bindPassword":"admin_password","timeout":5000}]
# Example (multiple servers - fallback):
# LDAP_SERVERS=[{"url":"ldap://ldap1.example.com:389","baseDN":"dc=example,dc=com","userSearchBase":"ou=users,dc=example,dc=com","userSearchFilter":"(uid={{username}})","timeout":5000},{"url":"ldap://ldap2.example.com:389","baseDN":"dc=example,dc=com","userSearchBase":"ou=users,dc=example,dc=com","userSearchFilter":"(uid={{username}})","timeout":5000}]
# Example (Active Directory):
# LDAP_SERVERS=[{"url":"ldap://ad.company.com:389","baseDN":"dc=company,dc=com","userSearchBase":"ou=employees,dc=company,dc=com","userSearchFilter":"(sAMAccountName={{username}})","bindDN":"CN=Service Account,OU=Service Accounts,DC=company,DC=com","bindPassword":"service_password","timeout":5000}]
LDAP_SERVERS=[]

# Logging Configuration
# LOG_LEVEL: debug | info | warn | error (default: info)
LOG_LEVEL=info
# Enable detailed authentication logs (default: false in production, true in development)
LOG_AUTH_ATTEMPTS=true
# Enable detailed LDAP debugging logs (default: false in production, true in development)
LOG_LDAP_DEBUG=true
